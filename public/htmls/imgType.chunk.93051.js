(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{706:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return c}));var a=n(192),r=function(e){return a.a.safePostPage("/api/channelcontent/getList",e)},o=function(e){return a.a.safePostPage("/api/channeltype/getSelectList",e)},l=function(e){return a.a.safePost("/api/channelcontent/saveInfo",e)},i=function(e){return a.a.safePost("/api/channelcontent/batchSaveContents",e)},c=function(e){return a.a.safePost("/api/channelcontent/deleteInfo?id="+e,e)}},707:function(e,t,n){e.exports={loading:"_2XpTlej3tky1G_QmEydEMd",dash:"_1MlMFYhvqIJmHGOBAyX-Gd",removeItem:"_3_TtramM88S7sxm1kQlG2U",remove:"_1vleeDGtcQoyAWzUgKQO56",add:"QXCUmITCUG4EgNAxkVDHx",hide:"_3cUBpgqJrFSiqhHI6eNfYF"}},708:function(e,t,n){e.exports={arrange:"_3xt1Ap3_fxO_KgVs3etiwz",day:"_2fccREaTKkiOxxccXZBFvK",operate:"_1gVTCM2Ifpzj31gO6hE1De"}},709:function(e,t,n){e.exports={loading:"_2-SljXpNXNmNNiQBoWiKku",dash:"_1kZ-fqwWNYbVE7d_2IR-1a"}},710:function(e,t,n){e.exports={arrange:"_1AHnWF62ZvDEEbGI4ND4j-",day:"_2Fo0UgTygcjRq_PSc1RuYF",operate:"_110kjhnrFrvHCNXl5pzXYP"}},711:function(e,t,n){e.exports={arrange:"_2dfH7TcCZg7xvE1Xslt2y3",day:"_2K2w-cgDZD9eno5vtwfNIu",operate:"_1RBm9gxB1Nr_H2lZZ2Lk3A"}},712:function(e,t,n){e.exports={loading:"_1ObZOg4chvWPD1gMDOZ8_",dash:"_3yqQFNl9azoCtKLFWW0XtI",removeItem:"_4wb2ma5CGk8WglZs8oRO0",remove:"_1LMf_IZVlBAiNzIx29idaT",add:"_1kO_Wao7MN6j3MGhN7A1_D"}},714:function(e,t,n){"use strict";n.r(t);var a,r=n(0),o=n.n(r),l=n(697),i=n(698),c=n(695),u=n(147),s=n(689),f=n(39),d=n(682),p=n(711),m=n.n(p),h=n(6),y=n.n(h),v=n(685),b=n(679),w=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function l(e){try{c(a.next(e))}catch(e){o(e)}}function i(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,i)}c((a=a.apply(e,t||[])).next())}))},E=function(e,t){var n,a,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=l.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},g=function(e){var t={marginRight:35,marginBottom:12},n=Object(r.useMemo)((function(){return{eventDate:[y()().startOf("day"),y()().endOf("day")]}}),[]),a=d.a.useForm()[0];return o.a.createElement("div",null,o.a.createElement(d.a,{className:m.a.arrange,form:a,initialValues:n},o.a.createElement(d.a.Item,{style:t},o.a.createElement(f.a,{onClick:function(){return w(this,void 0,void 0,(function(){var t;return E(this,(function(n){switch(n.label){case 0:return[4,a.validateFields()];case 1:return(t=n.sent())&&e.setParams(t),[2]}}))}))},loading:e.loading,icon:o.a.createElement(v.a,null),type:"primary"},"查询")),o.a.createElement(d.a.Item,{style:t},o.a.createElement(f.a,{onClick:e.handleAdd,icon:o.a.createElement(b.a,null)},"新增"))))},_=n(228),O=(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),C=function(){return(C=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},x={labelCol:{span:6},wrapperCol:{span:18}},k=function(e){function t(t){var n=e.call(this,t)||this;return n.formRef=o.a.createRef(),n.state={formDom:[],loading:!0},n}return O(t,e),t.prototype.render=function(){var e=this.props,t=e.visible,n=e.record;this.state;return o.a.createElement(_.b,{title:"详情",onClose:this.props.onClose,visible:t,width:500,onConfirm:this.props.onClose},t&&n&&o.a.createElement("div",{style:{padding:15}},o.a.createElement(d.a,C({},x,{name:"basic",initialValues:{}}),o.a.createElement(d.a.Item,{label:"内容"},n.content))))},t.defaultProps={type:0,getContainer:!1},t}(r.Component),S=n(143),I=n(692),P=n(686),j=n(706),R=n(712),z=n.n(R),V=n(705),q=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),T=function(){return(T=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},D=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function l(e){try{c(a.next(e))}catch(e){o(e)}}function i(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,i)}c((a=a.apply(e,t||[])).next())}))},A=function(e,t){var n,a,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=l.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},K=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},N=S.a.Option,F={labelCol:{span:6},wrapperCol:{span:16}},G=function(e){function t(t){var n=e.call(this,t)||this;return n.formRef=o.a.createRef(),n.query=function(){return D(n,void 0,void 0,(function(){var e;return A(this,(function(t){switch(t.label){case 0:return[4,Object(j.d)(0)];case 1:return e=t.sent(),console.log(e),this.setState({types:e}),[2]}}))}))},n.onConfirm=function(){return D(n,void 0,void 0,(function(){var e,t,n,a,r,o;return A(this,(function(l){switch(l.label){case 0:return e=this.props,t=e.type,n=e.record,a=e.reload,this.formRef&&this.formRef.current?[4,this.formRef.current.validateFields()]:[3,3];case 1:return r=l.sent(),o=r,1==t&&n&&(o.id=n.id),!0===o.foreign?o.foreign=1:!1===o.foreign&&(o.foreign=0),!0===o.status?o.status=1:!1===o.status&&(o.status=0),[4,Object(j.a)(T(T({},o),{content:null==o?void 0:o.content.map((function(e){return e.text})).join("||")}))];case 2:l.sent(),a(),l.label=3;case 3:return[2]}}))}))},n.state={loading:!0,record:t.record,types:{}},n}return q(t,e),t.prototype.componentDidMount=function(){this.query()},t.prototype.render=function(){var e=this.props,t=e.visible,n=e.type,a=this.state,r=a.record,l=a.types,i=T(T({},r),{content:null==r?void 0:r.content.split("||").map((function(e){return{text:e}}))});return o.a.createElement(_.b,{title:0==n?"新增文字":"修改文字",onClose:this.props.onClose,visible:t,width:500,onConfirm:this.onConfirm},t&&o.a.createElement("div",{style:{padding:15}},o.a.createElement(d.a,T({},F,{name:"basic",ref:this.formRef,initialValues:i}),o.a.createElement(d.a.Item,{label:"文字类型",name:"type_id"},o.a.createElement(S.a,{showSearch:!0,placeholder:"请选择",optionFilterProp:"children"},l?Object.keys(l).map((function(e){return o.a.createElement(N,{key:e,value:e},l[e])})):"")),o.a.createElement(d.a.Item,{label:"语言",name:"language_id"},o.a.createElement(S.a,{style:{width:"100%"},placeholder:"请选择",options:[{label:"英语",value:1},{label:"中文简体",value:2},{label:"中文繁体",value:3},{label:"Thai",value:4},{label:"越南语",value:5}]})),o.a.createElement(d.a.List,{name:"content"},(function(e,t){var n=t.add,a=t.remove;return o.a.createElement(o.a.Fragment,null,e.map((function(e){var t=e.key,n=e.name,r=e.fieldKey,l=K(e,["key","name","fieldKey"]);return o.a.createElement("div",{key:t},o.a.createElement("div",{className:z.a.removeItem},o.a.createElement(d.a.Item,T({label:"文字内容",name:[n,"text"],fieldKey:[r,"text"]},l),o.a.createElement(I.a.TextArea,null)),o.a.createElement(V.a,{className:z.a.remove,onClick:function(){return a(n)}})),o.a.createElement(P.a,null))})),o.a.createElement(d.a.Item,null,o.a.createElement(f.a,{className:z.a.add,type:"dashed",onClick:function(){return n()},block:!0,icon:o.a.createElement(b.a,null)},"新增文字内容")))})))))},t}(r.Component),M=n(192),B=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),L=function(){return(L=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Z=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function l(e){try{c(a.next(e))}catch(e){o(e)}}function i(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,i)}c((a=a.apply(e,t||[])).next())}))},X=function(e,t){var n,a,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=l.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},W=S.a.Option,H={labelCol:{span:6},wrapperCol:{span:18}},Q=function(e){function t(t){var n=e.call(this,t)||this;return n.formRef=o.a.createRef(),n.query=function(){return Z(n,void 0,void 0,(function(){var e,t;return X(this,(function(n){switch(n.label){case 0:return[4,Object(j.d)(0)];case 1:return e=n.sent(),[4,(a=0,M.a.safePostPage("/api/Config/getLanguageList",a))];case 2:return t=n.sent(),console.log(t),this.setState({types:e,language:t}),[2]}var a}))}))},n.onConfirm=function(){return Z(n,void 0,void 0,(function(){var e,t,n;return X(this,(function(a){switch(a.label){case 0:return e=this.props.reload,this.formRef&&this.formRef.current?[4,this.formRef.current.validateFields()]:[3,3];case 1:return t=a.sent(),n=t,console.log(n),[4,Object(j.b)(n)];case 2:a.sent(),e(),a.label=3;case 3:return[2]}}))}))},n.state={loading:!0,record:t.record,types:{},language:{}},n}return B(t,e),t.prototype.componentDidMount=function(){this.query()},t.prototype.render=function(){var e=this.props.visible,t=this.state,n=t.record,a=t.types,r=t.language;return o.a.createElement(_.b,{title:"批量新增文字内容",onClose:this.props.onClose,visible:e,width:800,onConfirm:this.onConfirm},o.a.createElement("div",{style:{padding:15}},o.a.createElement(d.a,L({},H,{name:"basic",ref:this.formRef,initialValues:n}),o.a.createElement(d.a.List,{name:"contents"},(function(e,t){var n=t.add,i=t.remove;return o.a.createElement(o.a.Fragment,null,e.map((function(e){return o.a.createElement(l.b,{key:e.key,align:"center"},o.a.createElement(d.a.Item,{noStyle:!0,shouldUpdate:function(e,t){return e.area!==t.area||e.sights!==t.sights}},(function(){return o.a.createElement(d.a.Item,L({},e,{label:"所属类型",name:[e.name,"type_id"],fieldKey:[e.fieldKey,"type_id"],rules:[{required:!0,message:"类型不能为空"}]}),o.a.createElement(S.a,{showSearch:!0,style:{width:200},placeholder:"选择以下一种渠道类型",optionFilterProp:"children"},a?Object.keys(a).map((function(e){return o.a.createElement(W,{key:e,value:e},a[e])})):""))})),o.a.createElement(d.a.Item,L({},e,{label:"所属语系",name:[e.name,"language_id"],fieldKey:[e.fieldKey,"language_id"],rules:[{required:!0,message:"语系不能为空"}]}),o.a.createElement(S.a,{showSearch:!0,style:{width:200},placeholder:"请选择语系",optionFilterProp:"children"},r?Object.keys(r).map((function(e){return o.a.createElement(W,{key:e,value:e},r[e])})):"")),o.a.createElement(d.a.Item,L({},e,{label:"文字内容",name:[e.name,"content"],fieldKey:[e.fieldKey,"content"],rules:[{required:!0,message:"Missing content"}]}),o.a.createElement(I.a.TextArea,null)),o.a.createElement(V.a,{onClick:function(){return i(e.name)}}))})),o.a.createElement(d.a.Item,null,o.a.createElement(f.a,{type:"primary",onClick:function(){return n()},block:!0,icon:o.a.createElement(b.a,null)},"新增")))})))))},t}(r.Component),U=n(702),J=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Y=function(){return(Y=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},$=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function l(e){try{c(a.next(e))}catch(e){o(e)}}function i(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,i)}c((a=a.apply(e,t||[])).next())}))},ee=function(e,t){var n,a,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=l.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},te=function(e){function t(t){var n=e.call(this,t)||this;return n.renderOpe=function(e,t){return o.a.createElement(l.b,{size:"middle"},o.a.createElement("a",{onClick:function(){n.openEditDrawer(t)}},"修改"),o.a.createElement("a",{onClick:function(){n.openDrawer(t)}},"详情"),o.a.createElement(i.a,{title:"确定？",okText:"是的",cancelText:"算了",onConfirm:function(){n.removeOne(t)}},o.a.createElement("a",{style:{color:"#ff4d4f"}},"删除")))},n.renderType=function(e,t){return o.a.createElement("div",null,t.type?o.a.createElement(c.a,{icon:o.a.createElement(U.a,null),color:"#55acee"},t.type.name):null)},n.columns=[{title:"序号",dataIndex:"id",width:40,disabled:!0},{title:"文字类型",dataIndex:"type",width:80,render:n.renderType},{title:"文字内容",dataIndex:"content",width:100},{title:"操作",dataIndex:"ope",width:100,render:n.renderOpe}],n.openDrawer=function(e){n.setState({drawerDetailVisible:!0,selectedRec:e})},n.openEditDrawer=function(e){n.setState({drawerEditVisible:!0,selectedRec:e})},n.removeOne=function(e){return $(n,void 0,void 0,(function(){var t;return ee(this,(function(n){switch(n.label){case 0:return[4,Object(j.e)(e.id)];case 1:return t=n.sent(),console.log(t),t?(u.b.success("删除成功"),this.query()):u.b.error("删除失败"),[2]}}))}))},n.query=function(){return $(n,void 0,void 0,(function(){var e,t,n,a,r,o;return ee(this,(function(l){switch(l.label){case 0:return this.setState({loading:!0}),e=this.state,t=e.queryArgs,n=e.page,a=e.size,r=Y({page:n,size:a},t),[4,Object(j.c)(r)];case 1:return o=l.sent(),this.setState({dataSource:o.data,total:o.total,loading:!1}),[2]}}))}))},n.handleAdd=function(){n.setState({drawerEditVisible:!0})},n.state={queryArgs:{},dataSource:[],total:0,page:1,size:10,loading:!1,drawerDetailVisible:void 0,selectedRec:void 0,drawerEditVisible:void 0,drawerBatchVisible:void 0},n}return J(t,e),t.prototype.componentDidMount=function(){this.query()},t.prototype.render=function(){var e=this,t=this.state,n=t.dataSource,a=t.selectedRec,r=t.drawerDetailVisible,l=t.drawerEditVisible,i=t.drawerBatchVisible,c=t.total,u=t.page,f=t.size,d=t.loading;return o.a.createElement("div",{style:{backgroundColor:"white"}},o.a.createElement(g,{loading:d,dataSource:n,setParams:function(t){e.setState({queryArgs:t},e.query)},handleAdd:this.handleAdd}),o.a.createElement(s.a,{dataSource:n,rowKey:"id",size:"small",columns:this.columns,scroll:{y:"calc(100vh - 300px)"},pagination:{total:c,pageSize:f,current:u,showSizeChanger:!0,showTotal:function(e){return"共"+e+"条"},onChange:function(t,n){e.setState({page:t,size:n},e.query)},onShowSizeChange:function(t,n){e.setState({page:t,size:n},e.query)}},loading:d}),a&&void 0!==r?o.a.createElement(k,{record:a,onClose:function(){e.setState({drawerDetailVisible:void 0})},reload:this.query,visible:r}):null,void 0!==l?o.a.createElement(G,{type:a?1:0,record:a,onClose:function(){e.setState({drawerEditVisible:void 0,selectedRec:void 0})},reload:function(){e.setState({drawerEditVisible:void 0,selectedRec:void 0},e.query)},visible:l}):null,void 0!==i?o.a.createElement(Q,{record:a,onClose:function(){e.setState({drawerBatchVisible:void 0,selectedRec:void 0})},reload:function(){e.setState({drawerBatchVisible:void 0,selectedRec:void 0},e.query)},visible:i}):null)},t}(o.a.Component);t.default=te},715:function(e,t,n){"use strict";n.r(t);var a,r=n(0),o=n.n(r),l=n(695),i=n(697),c=n(698),u=n(690),s=n(147),f=n(689),d=n(39),p=n(682),m=n(708),h=n.n(m),y=n(6),v=n.n(y),b=n(685),w=n(679),E=n(692),g=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function l(e){try{c(a.next(e))}catch(e){o(e)}}function i(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,i)}c((a=a.apply(e,t||[])).next())}))},_=function(e,t){var n,a,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=l.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},O=function(e){var t={marginRight:35,marginBottom:12},n=Object(r.useMemo)((function(){return{eventDate:[v()().startOf("day"),v()().endOf("day")]}}),[]),a=p.a.useForm()[0];return o.a.createElement("div",null,o.a.createElement(p.a,{className:h.a.arrange,form:a,initialValues:n},o.a.createElement(p.a.Item,{style:t,label:"名称",name:"name"},o.a.createElement(E.a,null)),o.a.createElement(p.a.Item,{style:t,label:"描述",name:"describe"},o.a.createElement(E.a,null)),o.a.createElement(p.a.Item,{style:t},o.a.createElement(d.a,{onClick:function(){return g(this,void 0,void 0,(function(){var t;return _(this,(function(n){switch(n.label){case 0:return[4,a.validateFields()];case 1:return(t=n.sent())&&e.setParams(t),[2]}}))}))},loading:e.loading,icon:o.a.createElement(b.a,null),type:"primary"},"查询")),o.a.createElement(p.a.Item,{style:t},o.a.createElement(d.a,{onClick:e.handleAdd,icon:o.a.createElement(w.a,null)},"新增"))))},C=n(228),x=n(709),k=n.n(x),S=(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),I=function(){return(I=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},P={labelCol:{span:6},wrapperCol:{span:18}},j=function(e){function t(t){var n=e.call(this,t)||this;return n.formRef=o.a.createRef(),n.state={formDom:[],loading:!0},n}return S(t,e),t.prototype.render=function(){var e=this.props,t=e.visible,n=e.record;this.state;return o.a.createElement(C.b,{title:"详情",onClose:this.props.onClose,visible:t,width:500,onConfirm:this.props.onClose},t&&n&&o.a.createElement("div",{style:{padding:15}},o.a.createElement(p.a,I({},P,{name:"basic",initialValues:{}}),o.a.createElement(p.a.Item,{label:"名称"},n.name),o.a.createElement(p.a.Item,{label:"域名"},n.domain),o.a.createElement(p.a.Item,{label:"描述"},n.describe),o.a.createElement(p.a.Item,{label:"外来数据"},1==n.foreign?o.a.createElement(l.a,{color:"green"},"是"):o.a.createElement(l.a,{color:"gray"},"否")),o.a.createElement(p.a.Item,{label:"状态"},1==n.status?o.a.createElement(l.a,{color:"green"},"可用"):o.a.createElement(l.a,{color:"volcano"},"禁用")),o.a.createElement(p.a.Item,{label:"示例("+(n.image?n.image.length:0)+")"},n.image?n.image.map((function(e){return o.a.createElement(u.a,{key:e,src:""+n.domain+e,width:60,fallback:"/src/static/image/logo1.png"})})):null),o.a.createElement(p.a.Item,{label:"现有图片("+(n.images?n.images.length:0)+")"},n.images?n.images.map((function(e){return o.a.createElement(u.a,{key:e.name,src:""+n.domain+e,width:60,fallback:"/src/static/image/logo1.png"})})):null),o.a.createElement(p.a.Item,{label:"现有文字("+(n.contents?n.contents.length:0)+")"},n.contents?n.contents.map((function(e,t){return o.a.createElement("div",{className:k.a.dash,key:t.toString()},e.content)})):null),o.a.createElement(p.a.Item,{label:"配置参数"},n.config))))},t.defaultProps={type:0,getContainer:!1},t}(r.Component),R=n(696),z=n(229),V=n(192),q=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),T=function(){return(T=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},D=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function l(e){try{c(a.next(e))}catch(e){o(e)}}function i(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,i)}c((a=a.apply(e,t||[])).next())}))},A=function(e,t){var n,a,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=l.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},K={labelCol:{span:6},wrapperCol:{span:18}},N=function(e){function t(t){var n=e.call(this,t)||this;return n.formRef=o.a.createRef(),n.onConfirm=function(){return D(n,void 0,void 0,(function(){var e,t,n,a,r;return A(this,(function(o){switch(o.label){case 0:return e=this.props,t=e.type,n=e.record,a=e.reload,this.formRef&&this.formRef.current?[4,this.formRef.current.validateFields()]:[3,3];case 1:return r=o.sent(),1==t&&n&&(r.id=n.id),r.image=r.image.map((function(e){var t,n,a;return null!==(a=null===(n=null===(t=e.response)||void 0===t?void 0:t.data)||void 0===n?void 0:n.src)&&void 0!==a?a:e.name})),!0===r.foreign?r.foreign=1:!1===r.foreign&&(r.foreign=0),!0===r.status?r.status=1:!1===r.status&&(r.status=0),[4,(l=r,V.a.safePost("/api/channeltype/saveInfo",l))];case 2:o.sent(),a(),o.label=3;case 3:return[2]}var l}))}))},n.state={loading:!0},n}return q(t,e),t.prototype.render=function(){var e,t,n,a=this.props,r=a.visible,l=a.type,i=T(T({},this.props.record),{domain:null===(e=this.props.record)||void 0===e?void 0:e.domain,image:(null===(n=null===(t=this.props.record)||void 0===t?void 0:t.image)||void 0===n?void 0:n.length)?this.props.record.image.map((function(e){return{uid:e,name:e,status:"done",url:e}})):[]});return o.a.createElement(C.b,{title:0==l?"新增类型":"修改类型",onClose:this.props.onClose,visible:r,width:500,onConfirm:this.onConfirm},r&&o.a.createElement("div",{style:{padding:15}},o.a.createElement(p.a,T({},K,{name:"basic",ref:this.formRef,initialValues:i}),o.a.createElement(p.a.Item,{label:"名称",name:"name"},o.a.createElement(E.a,null)),o.a.createElement(p.a.Item,{label:"域名",name:"domain"},o.a.createElement(E.a,null)),o.a.createElement(p.a.Item,{label:"描述",name:"describe"},o.a.createElement(E.a.TextArea,null)),o.a.createElement(p.a.Item,{label:"外来数据",name:"foreign",valuePropName:"checked"},o.a.createElement(R.a,{checkedChildren:"是",unCheckedChildren:"否"})),o.a.createElement(p.a.Item,{label:"状态",name:"status",valuePropName:"checked"},o.a.createElement(R.a,{checkedChildren:"可用",unCheckedChildren:"禁用"})),o.a.createElement(p.a.Item,{label:"示例("+i.image.length+")",name:"image",rules:[{validator:z.b}]},o.a.createElement(C.d,{domain:i.domain})),o.a.createElement(p.a.Item,{label:"配置参数",name:"config"},o.a.createElement(E.a.TextArea,null)))))},t}(r.Component),F=n(704),G=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),M=function(){return(M=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},B=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function l(e){try{c(a.next(e))}catch(e){o(e)}}function i(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,i)}c((a=a.apply(e,t||[])).next())}))},L=function(e,t){var n,a,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=l.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},Z=function(e){function t(t){var n=e.call(this,t)||this;return n.renderStatus=function(e){return"1"==e.toString()?o.a.createElement(l.a,{color:"green"},"可用"):o.a.createElement(l.a,{color:"volcano"},"禁用")},n.renderPopular=function(e){return"1"==e.toString()?o.a.createElement(l.a,{color:"green"},"是"):o.a.createElement(l.a,{color:"gray"},"否")},n.renderTransfer=function(e,t){return o.a.createElement("div",null,t.transfer?t.transfer.map((function(e){return o.a.createElement(l.a,{icon:o.a.createElement(F.a,null),key:e.id},e.name)})):null)},n.renderOpe=function(e,t){return o.a.createElement(i.b,{size:"middle"},o.a.createElement("a",{onClick:function(){n.openEditDrawer(t)}},"修改"),o.a.createElement("a",{onClick:function(){n.openDrawer(t)}},"详情"),o.a.createElement(c.a,{title:"确定？",okText:"是的",cancelText:"算了",onConfirm:function(){n.removeOne(t)}},o.a.createElement("a",{style:{color:"#ff4d4f"}},"删除")))},n.renderImg=function(e,t){return o.a.createElement("div",null,t.image?t.image.map((function(e){return o.a.createElement(u.a,{key:e,src:""+t.domain+e,width:50,fallback:"/src/static/image/logo1.png"})})):null)},n.renderCount=function(e){return e.length},n.columns=[{title:"序号",dataIndex:"id",width:40,disabled:!0},{title:"名称",dataIndex:"name",width:100},{title:"中转页名称",dataIndex:"transfer",width:100,render:n.renderTransfer},{title:"描述",dataIndex:"describe",width:200},{title:"图片数量",dataIndex:"images",width:60,render:n.renderCount},{title:"文字数量",dataIndex:"contents",width:60,render:n.renderCount},{title:"外来数据",dataIndex:"foreign",width:60,render:n.renderPopular},{title:"状态",dataIndex:"status",width:60,render:n.renderStatus},{title:"操作",dataIndex:"ope",width:100,render:n.renderOpe}],n.openDrawer=function(e){n.setState({drawerDetailVisible:!0,selectedRec:e})},n.openEditDrawer=function(e){n.setState({drawerEditVisible:!0,selectedRec:e})},n.removeOne=function(e){return B(n,void 0,void 0,(function(){var t;return L(this,(function(n){switch(n.label){case 0:return[4,(a=e.id,V.a.safePost("/api/channeltype/deleteInfo?id="+a,a))];case 1:return t=n.sent(),console.log(t),t?(s.b.success("删除成功"),this.query()):s.b.error("删除失败"),[2]}var a}))}))},n.query=function(){return B(n,void 0,void 0,(function(){var e,t,n,a,r,o;return L(this,(function(l){switch(l.label){case 0:return this.setState({loading:!0}),e=this.state,t=e.queryArgs,n=e.page,a=e.size,r={page:n,size:a,where:JSON.stringify(M({},t))},[4,(i=r,V.a.safePostPage("/api/channeltype/getList",i))];case 1:return o=l.sent(),this.setState({dataSource:o.data,total:o.total,loading:!1}),[2]}var i}))}))},n.handleAdd=function(){n.setState({drawerEditVisible:!0})},n.state={queryArgs:{},dataSource:[],total:0,page:1,size:10,loading:!1,drawerDetailVisible:void 0,selectedRec:void 0,drawerEditVisible:void 0},n}return G(t,e),t.prototype.componentDidMount=function(){this.query()},t.prototype.render=function(){var e=this,t=this.state,n=t.dataSource,a=t.selectedRec,r=t.drawerDetailVisible,l=t.drawerEditVisible,i=t.total,c=t.page,u=t.size,s=t.loading;return o.a.createElement("div",{style:{backgroundColor:"white"}},o.a.createElement(O,{loading:s,moduleName:"11",dataSource:n,setParams:function(t){e.setState({queryArgs:t},e.query)},handleAdd:this.handleAdd}),o.a.createElement(f.a,{dataSource:n,rowKey:"id",size:"small",columns:this.columns,scroll:{y:"calc(100vh - 300px)"},pagination:{total:i,pageSize:u,current:c,showSizeChanger:!0,showTotal:function(e){return"共"+e+"条"},onChange:function(t,n){e.setState({page:t,size:n},e.query)},onShowSizeChange:function(t,n){e.setState({page:t,size:n},e.query)}},loading:s}),a&&void 0!==r?o.a.createElement(j,{record:a,onClose:function(){e.setState({drawerDetailVisible:void 0})},reload:this.query,visible:r}):null,void 0!==l?o.a.createElement(N,{type:a?1:0,record:a,onClose:function(){e.setState({drawerEditVisible:void 0,selectedRec:void 0})},reload:function(){e.setState({drawerEditVisible:void 0,selectedRec:void 0},e.query)},visible:l}):null)},t}(o.a.Component);t.default=Z},716:function(e,t,n){"use strict";n.r(t);var a,r=n(0),o=n.n(r),l=n(695),i=n(697),c=n(698),u=n(690),s=n(147),f=n(689),d=n(39),p=n(682),m=n(710),h=n.n(m),y=n(6),v=n.n(y),b=n(685),w=n(679),E=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function l(e){try{c(a.next(e))}catch(e){o(e)}}function i(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,i)}c((a=a.apply(e,t||[])).next())}))},g=function(e,t){var n,a,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=l.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},_=function(e){var t={marginRight:35,marginBottom:12},n=Object(r.useMemo)((function(){return{eventDate:[v()().startOf("day"),v()().endOf("day")]}}),[]),a=p.a.useForm()[0];return o.a.createElement("div",null,o.a.createElement(p.a,{className:h.a.arrange,form:a,initialValues:n},o.a.createElement(p.a.Item,{style:t},o.a.createElement(d.a,{onClick:function(){return E(this,void 0,void 0,(function(){var t;return g(this,(function(n){switch(n.label){case 0:return[4,a.validateFields()];case 1:return(t=n.sent())&&e.setParams(t),[2]}}))}))},loading:e.loading,icon:o.a.createElement(b.a,null),type:"primary"},"查询")),o.a.createElement(p.a.Item,{style:t},o.a.createElement(d.a,{onClick:e.handleAdd,icon:o.a.createElement(w.a,null)},"新增"))))},O=n(686),C=n(228),x=n(707),k=n.n(x),S=n(702),I=(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),P=function(){return(P=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},j={labelCol:{span:6},wrapperCol:{span:18}},R=function(e){function t(t){var n=e.call(this,t)||this;return n.formRef=o.a.createRef(),n.state={formDom:[],loading:!0},n}return I(t,e),t.prototype.render=function(){var e=this.props,t=e.visible,n=e.record,a=(this.state,["","宋体","Courier New"]),r=null==n?void 0:n.fonts.map((function(e){var t,n,r,i,c,u,s,f,d,m;return o.a.createElement("div",{key:e.id},o.a.createElement(p.a.Item,{label:"文字颜色"},o.a.createElement(l.a,{color:e.font_color},e.font_color)),o.a.createElement(p.a.Item,{label:"字体"},o.a.createElement(l.a,{color:e.font_color},e.font?a[e.font]:"")),o.a.createElement(p.a.Item,{label:"字体位置"},o.a.createElement("div",null,e.font_position)),o.a.createElement(p.a.Item,{label:"字体大小"},o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{style:{fontSize:e.font_size+"px",color:""+e.font_color}},e.font_size),o.a.createElement("span",null,"px"))),o.a.createElement(p.a.Item,{label:"字体阴影"}),o.a.createElement(p.a.Item,{label:"水平位置"},o.a.createElement("div",null,e.font_shadow?e.font_shadow["h-shadow"]:"")),o.a.createElement(p.a.Item,{label:"垂直位置"},o.a.createElement("div",null,e.font_shadow?e.font_shadow["v-shadow"]:"")),o.a.createElement(p.a.Item,{label:"字体阴影颜色"},o.a.createElement("div",null,o.a.createElement(l.a,{color:null===(t=e.font_shadow)||void 0===t?void 0:t.color},null===(n=e.font_shadow)||void 0===n?void 0:n.color))),o.a.createElement(p.a.Item,{label:"阴影尺寸"},o.a.createElement("div",{style:{color:""+(null===(r=e.font_shadow)||void 0===r?void 0:r.color)}},null===(i=e.font_shadow)||void 0===i?void 0:i.spread)),o.a.createElement(p.a.Item,{label:"内部阴影尺寸"},o.a.createElement("div",null,null===(c=e.font_shadow)||void 0===c?void 0:c.inset)),o.a.createElement(p.a.Item,{label:"字体模糊距离"},o.a.createElement("div",{style:{color:""+(null===(u=e.font_shadow)||void 0===u?void 0:u.color)}},null===(s=e.font_shadow)||void 0===s?void 0:s.blur)),o.a.createElement(p.a.Item,{label:"字体描边"}),o.a.createElement(p.a.Item,{label:"描边宽度"},o.a.createElement("div",null,null===(f=e.font_stroke)||void 0===f?void 0:f.width)),o.a.createElement(p.a.Item,{label:"描边颜色"},o.a.createElement("div",null,o.a.createElement(l.a,{color:null===(d=e.font_stroke)||void 0===d?void 0:d.color},null===(m=e.font_stroke)||void 0===m?void 0:m.color))),o.a.createElement(O.a,null))}));return o.a.createElement(C.b,{title:"详情",onClose:this.props.onClose,visible:t,width:500,onConfirm:this.props.onClose},t&&n&&o.a.createElement("div",{style:{padding:15}},o.a.createElement(p.a,P({},j,{name:"basic",initialValues:{}}),o.a.createElement(p.a.Item,{label:"名称"},n.name),o.a.createElement(p.a.Item,{label:"图片"},o.a.createElement(u.a,{key:n.name,src:"http://www.craw248000.com/"+n.name,width:60,fallback:"/src/static/image/logo1.png"})),o.a.createElement(p.a.Item,{label:"图片类型("+(n.type?n.type.length:0)+")"},n.type?n.type.map((function(e,t){return o.a.createElement(l.a,{className:k.a.dash,key:t.toString(),icon:o.a.createElement(S.a,null),color:"#55acee"},e.name)})):null),o.a.createElement(p.a.Item,{label:"图片加字"},1==n.enable?o.a.createElement(l.a,{color:"green"},"是"):o.a.createElement(l.a,{color:"gray"},"否")),r)))},t.defaultProps={type:0,getContainer:!1},t}(r.Component),z=n(143),V=n(687),q=n(691),T=n(688),D=n(692),A=n(705),K=n(229),N=n(192),F=function(e){return N.a.safePost("/api/channelimage/saveInfo",e)},G=n(706),M=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),B=function(){return(B=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},L=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function l(e){try{c(a.next(e))}catch(e){o(e)}}function i(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,i)}c((a=a.apply(e,t||[])).next())}))},Z=function(e,t){var n,a,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=l.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},X=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},W=z.a.Option,H={labelCol:{span:5},wrapperCol:{span:18}},Q={labelCol:{span:10},wrapperCol:{span:12}},U=function(e){function t(t){var n=e.call(this,t)||this;return n.formRef=o.a.createRef(),n.initRecord=function(e){return B(B({},e),{fonts:(null==e?void 0:e.fonts)?e.fonts.map((function(e){var t,n,a,r,o,l,i,c=(null==e?void 0:e.font_shadow)?{"h-shadow":null==e?void 0:e.font_shadow["h-shadow"],"v-shadow":null==e?void 0:e.font_shadow["v-shadow"]}:{};return B(B({id:e.id,font:e.font?Number(e.font):null,font_rotate:null===(t=null==e?void 0:e.font_shadow)||void 0===t?void 0:t.font_rotate,font_color:e.font_color,font_size:e.font_size,font_position:e.font_position,blur:null===(n=null==e?void 0:e.font_shadow)||void 0===n?void 0:n.blur,shadow_color:null===(a=null==e?void 0:e.font_shadow)||void 0===a?void 0:a.color},c),{inset:null===(r=null==e?void 0:e.font_shadow)||void 0===r?void 0:r.inset,spread:null===(o=null==e?void 0:e.font_shadow)||void 0===o?void 0:o.spread,stroke_color:null===(l=null==e?void 0:e.font_stroke)||void 0===l?void 0:l.color,stroke_width:null===(i=null==e?void 0:e.font_stroke)||void 0===i?void 0:i.width})})):[]})},n.query=function(){return L(n,void 0,void 0,(function(){var e;return Z(this,(function(t){switch(t.label){case 0:return[4,Object(G.d)(0)];case 1:return e=t.sent(),this.setState({types:e}),[2]}}))}))},n.showSelectKey=function(e){console.log("select",e)},n.onConfirm=function(){return L(n,void 0,void 0,(function(){var e,t,n,a,r,o,l,i,c,u,s,f;return Z(this,(function(d){switch(d.label){case 0:return e=this.props,t=e.reload,n=e.record,a=e.type,r=this.state.delId,this.formRef&&this.formRef.current?[4,this.formRef.current.validateFields()]:[3,5];case 1:return o=d.sent(),l={id:1===a&&n?n.id:void 0,name:null!==(s=null===(u=null===(c=null===(i=o.name[0])||void 0===i?void 0:i.response)||void 0===c?void 0:c.data)||void 0===u?void 0:u.src)&&void 0!==s?s:null===(f=o.name[0])||void 0===f?void 0:f.name,type_id:o.type_id,fonts:o.fonts?o.fonts.map((function(e){return{id:e.id,font:e.font,font_color:e.font_color,font_size:e.font_size,font_position:e.font_position,font_shadow:{font_rotate:e.font_rotate,blur:e.blur,color:e.shadow_color,"h-shadow":e["h-shadow"],inset:e.inset,spread:e.spread,"v-shadow":e["v-shadow"]},font_stroke:{color:e.stroke_color,width:e.stroke_width}}})):[]},r&&r.length?[4,(p={ids:null==r?void 0:r.join()},N.a.safePost("/api/fontStyle/deleteFontStyleInfo",p))]:[3,3];case 2:d.sent(),d.label=3;case 3:return[4,F(l)];case 4:d.sent(),t(),d.label=5;case 5:return[2]}var p}))}))},n.state={loading:!0,record:n.initRecord(t.record),background:"#000",types:{},delId:[]},n}return M(t,e),t.prototype.componentDidMount=function(){this.query()},t.prototype.render=function(){var e,t=this,n=this.props,a=n.visible,r=n.type,l=this.state.types,i=B(B({},this.state.record),{name:(null===(e=this.state.record)||void 0===e?void 0:e.name)?[this.state.record.name].map((function(e){return{uid:e,name:e,status:"done",url:e}})):[]}),c=[{label:"宋体",value:1},{label:"Courier New",value:2}];return o.a.createElement(C.b,{title:0==r?"新增图片":"修改图片",onClose:this.props.onClose,visible:a,width:600,onConfirm:this.onConfirm},a&&o.a.createElement("div",{style:{padding:15}},o.a.createElement(p.a,B({},H,{name:"basic",ref:this.formRef,initialValues:i}),o.a.createElement(p.a.Item,{label:"图片",name:"name",rules:[{validator:K.b}]},o.a.createElement(C.d,null)),o.a.createElement(p.a.Item,{label:"图片类型",name:"type_id"},o.a.createElement(z.a,{mode:"multiple",style:{width:"100%"},placeholder:"请选择",onChange:this.showSelectKey,optionLabelProp:"label"},l?Object.keys(l).map((function(e){return o.a.createElement(W,{label:l[e],key:e,value:e},l[e])})):"")),o.a.createElement(p.a.List,{name:"fonts"},(function(e,n){var a=n.add,r=n.remove;return o.a.createElement(o.a.Fragment,null,e.map((function(e,n){var a=e.key,l=e.name,i=e.fieldKey,u=X(e,["key","name","fieldKey"]);return o.a.createElement(V.a,{key:a},o.a.createElement(p.a.Item,B({className:k.a.hide,label:"id",name:[l,"id"],fieldKey:[i,"id"]},u),o.a.createElement(q.a,null)),o.a.createElement(T.a,{span:12},o.a.createElement(p.a.Item,B({label:"字体位置",name:[l,"font_position"],fieldKey:[i,"font_position"],help:"请使用 | 分割横纵坐标，横 | 纵"},u,Q),o.a.createElement(D.a,{min:1,max:99}))),o.a.createElement(T.a,{span:12},o.a.createElement("div",{className:k.a.removeItem},o.a.createElement(p.a.Item,B({label:"字体颜色",name:[l,"font_color"],fieldKey:[i,"font_color"]},u,Q),o.a.createElement(C.a,null)),o.a.createElement(A.a,{className:k.a.remove,onClick:function(){var e,a,o,i=t.state.delId;if(null===(e=null==t?void 0:t.formRef)||void 0===e?void 0:e.current){var c=null===(o=null===(a=null==t?void 0:t.formRef)||void 0===a?void 0:a.current.getFieldValue("fonts")[n])||void 0===o?void 0:o.id;null!=c&&(null==i||i.push(c)),r(l)}}}))),o.a.createElement(T.a,{span:12},o.a.createElement(p.a.Item,B({label:"字体",name:[l,"font"],fieldKey:[i,"font"]},u,Q),o.a.createElement(z.a,{style:{width:"100%"},placeholder:"请选择",onChange:t.showSelectKey,options:c}))),o.a.createElement(T.a,{span:12},o.a.createElement(p.a.Item,B({label:"字体大小",name:[l,"font_size"],fieldKey:[i,"font_size"],help:"单位px"},u,Q),o.a.createElement(q.a,{style:{width:"100%"},min:1,max:99}))),o.a.createElement(T.a,{span:12},o.a.createElement(p.a.Item,B({label:"字体旋转的度数",name:[l,"font_rotate"],fieldKey:[i,"font_rotate"],help:"单位°，允许负值"},u,Q),o.a.createElement(q.a,{style:{width:"100%"},min:-360,max:360}))),o.a.createElement(T.a,{span:12},o.a.createElement(p.a.Item,B({label:"阴影水平位置",name:[l,"h-shadow"],fieldKey:[i,"h-shadow"],help:"单位px，允许负值"},u,Q),o.a.createElement(q.a,{style:{width:"100%"},min:-99,max:99}))),o.a.createElement(T.a,{span:12},o.a.createElement(p.a.Item,B({label:"阴影垂直位置",name:[l,"v-shadow"],fieldKey:[i,"v-shadow"],help:"单位px，允许负值"},u,Q),o.a.createElement(q.a,{style:{width:"100%"},min:-99,max:99}))),o.a.createElement(T.a,{span:12},o.a.createElement(p.a.Item,B({label:"阴影模糊距离",name:[l,"blur"],fieldKey:[i,"blur"],help:"单位px"},u,Q),o.a.createElement(q.a,{style:{width:"100%"},min:1,max:99}))),o.a.createElement(T.a,{span:12},o.a.createElement(p.a.Item,B({label:"阴影尺寸",name:[l,"spread"],fieldKey:[i,"spread"],help:"单位px"},u,Q),o.a.createElement(q.a,{style:{width:"100%"},min:1,max:99}))),o.a.createElement(T.a,{span:12},o.a.createElement(p.a.Item,B({label:"阴影颜色",name:[l,"shadow_color"],fieldKey:[i,"shadow_color"]},u,Q),o.a.createElement(C.a,null))),o.a.createElement(T.a,{span:12},o.a.createElement(p.a.Item,B({label:"内部阴影",name:[l,"inset"],fieldKey:[i,"inset"],help:"将外部阴影 (outset) 改为内部阴影"},u,Q),o.a.createElement(q.a,{style:{width:"100%"},min:1,max:99}))),o.a.createElement(T.a,{span:12},o.a.createElement(p.a.Item,B({label:"描边宽度",name:[l,"stroke_width"],fieldKey:[i,"stroke_width"],help:"单位px"},u,Q),o.a.createElement(q.a,{style:{width:"100%"},min:1,max:99}))),o.a.createElement(T.a,{span:12},o.a.createElement(p.a.Item,B({label:"描边颜色",name:[l,"stroke_color"],fieldKey:[i,"stroke_color"]},u,Q),o.a.createElement(C.a,null))),o.a.createElement(O.a,null))})),o.a.createElement(p.a.Item,null,o.a.createElement(d.a,{className:k.a.add,type:"dashed",onClick:function(){return a()},block:!0,icon:o.a.createElement(w.a,null)},"新增文字样式")))})))))},t}(r.Component),J=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Y=function(){return(Y=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},$=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function l(e){try{c(a.next(e))}catch(e){o(e)}}function i(e){try{c(a.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,i)}c((a=a.apply(e,t||[])).next())}))},ee=function(e,t){var n,a,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=l.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},te=function(e){function t(t){var n=e.call(this,t)||this;return n.rendeRenable=function(e){return"1"==e?o.a.createElement(l.a,{color:"green"},"允许"):o.a.createElement(l.a,{color:"volcano"},"不允许")},n.renderOpe=function(e,t){return o.a.createElement(i.b,{size:"middle"},o.a.createElement("a",{onClick:function(){n.openEditDrawer(t)}},"修改"),o.a.createElement("a",{onClick:function(){n.openDrawer(t)}},"详情"),o.a.createElement(c.a,{title:"确定？",okText:"是的",cancelText:"算了",onConfirm:function(){n.removeOne(t)}},o.a.createElement("a",{style:{color:"#ff4d4f"}},"删除")))},n.renderImg=function(e,t){return o.a.createElement("div",null,o.a.createElement(u.a,{key:t.name,src:"http://www.craw248000.com/"+t.name,width:50,fallback:"/src/static/image/logo1.png"}))},n.renderType=function(e,t){return o.a.createElement("div",null,t.type?t.type.map((function(e){return o.a.createElement(l.a,{icon:o.a.createElement(S.a,null),key:e.id,color:"#55acee"},e.name)})):null)},n.renderColor=function(e,t){return o.a.createElement("div",null,o.a.createElement(l.a,{color:t.font_color},t.font_color))},n.renderFontSize=function(e,t){return o.a.createElement("div",null,o.a.createElement("span",{style:{fontSize:t.font_size+"px",color:""+t.font_color}},t.font_size),o.a.createElement("span",null,"px"))},n.columns=[{title:"序号",dataIndex:"id",width:40,disabled:!0},{title:"图片",dataIndex:"images",width:60,render:n.renderImg},{title:"图片类型",dataIndex:"type",width:200,render:n.renderType},{title:"操作",dataIndex:"ope",width:100,render:n.renderOpe}],n.openDrawer=function(e){n.setState({drawerDetailVisible:!0,selectedRec:e})},n.openEditDrawer=function(e){n.setState({drawerEditVisible:!0,selectedRec:e})},n.removeOne=function(e){return $(n,void 0,void 0,(function(){var t;return ee(this,(function(n){switch(n.label){case 0:return[4,(a=e.id,N.a.safePost("/api/channelimage/deleteInfo?id="+a,a))];case 1:return t=n.sent(),console.log(t),t?(s.b.success("删除成功"),this.query()):s.b.error("删除失败"),[2]}var a}))}))},n.query=function(){return $(n,void 0,void 0,(function(){var e,t,n,a,r,o;return ee(this,(function(l){switch(l.label){case 0:return this.setState({loading:!0}),e=this.state,t=e.queryArgs,n=e.page,a=e.size,r=Y({page:n,size:a},t),[4,(i=r,N.a.safePostPage("/api/channelimage/getList",i))];case 1:return o=l.sent(),this.setState({dataSource:o.data,total:o.total,loading:!1}),[2]}var i}))}))},n.handleAdd=function(){n.setState({drawerEditVisible:!0})},n.state={queryArgs:{},dataSource:[],total:0,page:1,size:10,loading:!1,drawerDetailVisible:void 0,selectedRec:void 0,drawerEditVisible:void 0},n}return J(t,e),t.prototype.componentDidMount=function(){this.query()},t.prototype.render=function(){var e=this,t=this.state,n=t.dataSource,a=t.selectedRec,r=t.drawerDetailVisible,l=t.drawerEditVisible,i=t.total,c=t.page,u=t.size,s=t.loading;return o.a.createElement("div",{style:{backgroundColor:"white"}},o.a.createElement(_,{loading:s,moduleName:"11",dataSource:n,setParams:function(t){e.setState({queryArgs:t},e.query)},handleAdd:this.handleAdd}),o.a.createElement(f.a,{dataSource:n,rowKey:"id",size:"small",columns:this.columns,scroll:{y:"calc(100vh - 300px)"},pagination:{total:i,pageSize:u,current:c,showSizeChanger:!0,showTotal:function(e){return"共"+e+"条"},onChange:function(t,n){e.setState({page:t,size:n},e.query)},onShowSizeChange:function(t,n){e.setState({page:t,size:n},e.query)}},loading:s}),a&&void 0!==r?o.a.createElement(R,{record:a,onClose:function(){e.setState({drawerDetailVisible:void 0})},reload:this.query,visible:r}):null,void 0!==l?o.a.createElement(U,{type:a?1:0,record:a,onClose:function(){e.setState({drawerEditVisible:void 0,selectedRec:void 0})},reload:function(){e.setState({drawerEditVisible:void 0,selectedRec:void 0},e.query)},visible:l}):null)},t}(o.a.Component);t.default=te}}]);